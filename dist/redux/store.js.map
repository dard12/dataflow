{"version":3,"file":"store.js","sourceRoot":"/","sources":["redux/store.ts"],"names":[],"mappings":";;;;;AAAA,4CAAkD;AAClD,uCAA8D;AAC9D,+DAAsC;AAEtC,IAAM,KAAK,GAAG,wBAAc,CAAC;IAC3B,OAAO,EAAE,EAAE,KAAK,EAAE,uBAAY,EAAE,WAAW,EAAE,6BAAkB,EAAE;CAClE,CAAC,CAAC;AAEH,SAAS,YAAY;IACb,IAAA,KAA0B,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,EAA9C,KAAK,WAAA,EAAE,EAAE,QAAA,EAAE,QAAQ,cAA2B,CAAC;IAEvD,IAAI,KAAK,IAAI,EAAE,IAAI,QAAQ,EAAE;QAC3B,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QACrC,YAAY,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QAC/B,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;QAC3C,kBAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,GAAG,YAAU,KAAO,CAAC;KACjE;SAAM;QACL,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACjC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QAC9B,YAAY,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;QACpC,kBAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC;KACpD;AACH,CAAC;AAED,YAAY,EAAE,CAAC;AAEf,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;AAE9B,kBAAe,KAAK,CAAC","sourcesContent":["import { configureStore } from '@reduxjs/toolkit';\nimport { loginReducer, collectionsReducer } from './reducers';\nimport axios from '../hooks/useAxios';\n\nconst store = configureStore({\n  reducer: { login: loginReducer, collections: collectionsReducer },\n});\n\nfunction persistLogin() {\n  const { token, id, username } = store.getState().login;\n\n  if (token && id && username) {\n    localStorage.setItem('token', token);\n    localStorage.setItem('id', id);\n    localStorage.setItem('username', username);\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  } else {\n    localStorage.removeItem('token');\n    localStorage.removeItem('id');\n    localStorage.removeItem('username');\n    axios.defaults.headers.common.Authorization = null;\n  }\n}\n\npersistLogin();\n\nstore.subscribe(persistLogin);\n\nexport default store;\n"]}